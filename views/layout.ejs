<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title><%= title || 'App' %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 간단한 플래시 메시지 스타일 예시 */
        .flash-msg {
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .flash-success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .flash-error   { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    </style>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body>

<header class="app-header">
    <nav class="nav">
        <a href="/" class="brand">MainScreen</a>
        <div class="links">
            <a href="/community">Community</a>

            <% if (currentUser) { %>
                <% if (isAdmin) { %>
                    <a class="nav-link btn btn-sm btn-outline-danger" href="/admin">
                        관리자
                    </a>
                <% } %>
                <a href="/profile"><%= currentUser.name %> 님</a>
                <a href="/auth/logout">Logout</a>
            <% } else { %>
                <a href="/auth/login">Login/SignUp</a>
            <% } %>
        </div>
    </nav>
</header>

<main class="container">

    <% if (success && success.length > 0) { %>
        <div class="flash-msg flash-success" role="alert">
            <%= success[0] %>
        </div>
    <% } %>
    <% if (error && error.length > 0) { %>
        <div class="flash-msg flash-error" role="alert">
            <%= error[0] %>
        </div>
    <% } %>
    <%- body %>
</main>

<footer class="app-footer">
    <small>© Demo UI</small>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>